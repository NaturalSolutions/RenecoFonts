<!DOCTYPE html>
<html>
<header>
  <title>J√©r√©my & sa magie üßôüèª‚Äç‚ôÇÔ∏è</title>
  <style>
    *{
      cursor: url("https://www.shareicon.net/data/32x32/2016/10/25/847548_cute_512x512.png") 14 14, auto !important;
    }
  </style>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
    crossorigin="anonymous"></script>
</header>

<body>
  <div class="container">

    <h1>Cr√©er une release automatiquement</h1>

    <label class="mt-3">Titre de la release / nouvelle version</label>
    <input type="text" class="form-control mb-2" placeholder="Exemple : Ajout du logo pour J√©r√©my" id="TitreRelease" />

    <label class="mt-3">Tags / Version</label>
    <input type="text" class="form-control mb-2" placeholder="Exemple : 22.2" id="TitreTag" />

    <label class="mt-3">Description</label>
    <input type="text" class="form-control mb-3"
      placeholder="Exemple : J√©r√©my avait besoin d'un logo pour les version, cr√©ation de ce dernier 'reneco-version-centralmonitoring'"
      id="Description" />

    <label class="mt-3">Branch de r√©f√©rence de la release ("master" la plus part du temps, si tu ne sais pas, ne touche
      pas)</label>
    <input type="text" class="form-control mb-3" value="master" id="Reference" />

    <h3>On s'est d√©j√† vu ?</h3>
    <p>Si ce n'est pas ta premiere fois √† lire cette page, alors voil√† un r√©sum√© :
    <ol>
      <li>D√©ziper et importer les nouveaux fichiers</li>
      <li>Envoyer les changements en ligne en ex√©cutant le fichier : UploadChanges.bat</li>
      <li>Cr√©er une nouvelle version en compl√©tant les champs au dessus et cliquer sur le bouton vert en bas "<b>Envoyer
          la
          MAJ ! Feu !! üî•üí•</b>"</li>
    </ol>
    <p>

    <h3>Import de la nouvelle version dans le code</h3>
    <p>
      Ton dossier d'export a bien √©t√© d√©compress√© et a remplac√© les pr√©c√©dents fichiers, ton dossier a donc bien les
      nouveau fichier.
    </p>

    <h3>Envoyer mes changements en ligne</h3>
    <p>
      Pour envoyer tous tes changements, il faut cr√©er et envoyer ce que les d√©veloppeurs appellent un "commit", imagine
      toi qu'un commit c'est comme une boite, dans laquelle tu mets tous tes changements, et quand t'es content avec ta
      boite, tu l'envois comme le p√®re no√´l envoi ses cadeaux, plein de surprises, mais toi ta surprise, c'est des
      nouvelles ic√¥nes ! Si c'est pas beau √ßa !</p>

    <p>Pour ce faire, je (<b>J√©r√©my Leriche üòó</b>) t'ai mach√© le travail, j'ai fait en sorte de remplir le paquet
      cadeau et
      l'envoyer automatiquement, tout ce que tu as √† faire, c'est double cliquer (ex√©cuter) le fichier :
      'UploadChanges.bat'.<br>
      Normalement le fichier va √©crire plein de choses, et √† la fin, si tout s'est bien passer il √©crira "appuyer sur
      une touche
      pour continuer" ce qui fermera le cmd, ne t'en fait pas, c'est normal !
    </p>

    <p>V√©rifie que ton paquet cadeau s'est bien envoy√©. Si ce n'est pas le cas (√ßa peut arriver, l'informatique c'est
      fun), appelle un d√©veloppeur et explique lui ce que tu as fait. Il comprendra et pourra t'aider. Ce n'est pas ton
      boulot de t'inqui√©ter de probl√®me de commande, c'est le probl√®me des d√©veloppeurs. Ne perds pas ton temps sur √ßa
      üòâ Pour v√©rifier que ton paquet cadeau s'est bien envoy√©, c'est <a
        href="https://gitlab.com/natural-solutions/reneco-fonts/-/commits/master" target="_blank">ici</a> que tu devrais
      trouver ton commit, tout en haut "New commit has been sent" regarde si la date est bonne.

    <h3>Cr√©er une nouvelle version</h3>
    <p>Si tu en est l√†, c'est que tu as bient√¥t fini ! Maintenant, en t'assurant de bien avoir rempli les champs plus
      haut, tu
      vas pouvoir cliquer sur le bouton "<b>Envoyer la MAJ ! Feu !! üî•üí•"</b>.<br>
      Si jamais, une erreur apparait lorsque tu clics sur le bouton, m√™me histoire qu'avant, voir un dev, n'importe qui
      devrait comprendre ce que j'ai fait et d√©buger en un rien de temps. Si un message "PARFAIT !! :O" apparait,
      c'est que tu as tir√© le gros lot ! Ta nouvelle version s'est bien upload. Pour v√©rifier √ßa, rien de plus simple,
      rends toi <a href="https://gitlab.com/natural-solutions/reneco-fonts/-/releases" target="_blank">ici</a>. Si
      tu voit bien tout en haut ta mise √† jours, c'est que tu viens de finir en 2min ce qui prenait aux anciens
      designers/int√©grateurs 30min + l'aide d'un d√©veloppeur !
    </p>

    <button class="btn btn-success mb-3" id="CreerRelease" data-dismiss="modal">Envoyer la MAJ ! Feu !! üî•üí•</button>
  </div>

</body>
<script>
 $(document).ready(function () {
  $(document).on('click', '#CreerRelease', function () {
    $.ajax({
      url: "https://gitlab.com/api/v4/projects/18612847/repository/tags",
      type: 'POST',
      data: {
        private_token: "NWNQZz8ocvuTYUTGMcsq",
        tag_name: $('#TitreTag').val(),
        ref: $('#Reference').val()
      },
      crossDomain: true,
      success: function (data) {
        $.ajax({
          url: "https://gitlab.com/api/v4/projects/18612847/releases",
          type: 'POST',
          data: {
            tag_name: $('#TitreTag').val(),
            description: $('#Description').val(),
            private_token: "NWNQZz8ocvuTYUTGMcsq",
            name: $('#TitreRelease').val(),
            ref: $('#Reference').val()
          },
          crossDomain: true,
          success: function (data) {
            alert('PARFAIT !! :O')
            console.log(data);
          },
          error: function (xhr, status, erreur) {
            alert(xhr.responseJSON.message)
          }
        })

      },
      error: function (xhr, status, erreur) {
        alert(xhr.responseJSON.message)
      }
    })
  })
})
</script>

</html>