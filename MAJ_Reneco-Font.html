<!DOCTYPE html>
<html>
<header>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
    crossorigin="anonymous"></script>
</header>

<body>
  <div class="container">

    <h1>Créer une release automatiquement</h1>

    <label class="mt-3">Titre de la release / nouvelle version</label>
    <input type="text" class="form-control mb-2" placeholder="Exemple : Ajout du logo pour Jérémy"
      name="logo_project_id" id="logo_project_id" />

    <label class="mt-3">Tags / Version</label>
    <input type="text" class="form-control mb-2" placeholder="Exemple : 22.2" name="logo_project_id"
      id="logo_project_id" />

    <label class="mt-3">Description</label>
    <input type="text" class="form-control mb-3"
      placeholder="Exemple : Jérémy avait besoin d'un logo pour les version, création de ce dernier 'reneco-version-centralmonitoring'"
      name="logo_project_id" id="logo_project_id" />

    <label class="mt-3">Branch de référence de la release ("master" la plus part du temps, si tu ne sais pas, ne touche
      pas)</label>
    <input type="text" class="form-control mb-3" value="master" name="logo_project_id" id="logo_project_id" />

    <h3>Import de la nouvelle version dans le code</h3>
    <p>
      Le fichier d'export a bien été décompressé et a remplacé les précédents fichiers, mon dossier à donc bien les
      nouveau fichier.
    </p>

    <h3>Envoyer mes changements en ligne</h3>
    <p>
      Pour envoyer tous tes changements, il faut créer et envoyer ce que les développeurs appellent un "commit", imagine
      toi qu'un commit c'est comme une boite, dans laquelle tu mets tous tes changements, et quand t'es content avec ta
      boite, tu l'envoie comme le père noël envoit ses cadeaux, plein de surprise, mais toi ta surprise, c'est des
      nouvelles icônes !</p>

    <p>Pour ce faire, je (Jérémy Leriche :) ) t'ai maché le travail, j'ai fait en sorte de remplir le paquet cadeau et l'envoyer automatiquement, tout ce que tu as à faire, c'est cliquer sur un fichier ! Si c'est pas beau ça :) Le fichier en question : 'UploadChanges.bat'
    </p>

    <p>Vérifie que ton paquet cadeau s'est bien envoyé. Si ce n'est pas le cas (ça peut arriver, l'informatique c'est fun), appelle un développeur et explique lui ce que tu as fait. Il comprendra et pourra t'aider. Ce n'est pas ton boulot de t'inquiéter de problème de commande, c'est le problème des développeurs. Ne perds pas ton temps sur ça. :)<a
        href="https://gitlab.com/natural-solutions/reneco-fonts/-/commits/master" target="_blank">ici</a>

    <h3>Créer une nouvelle version</h3>
    <p>Si tu en est là, tu as fait le plus dur, maintenant
    </p>



    <button class="btn btn-success" data-dismiss="modal">Envoyer l'issue</button>
  </div>


</body>
<script>

  $(document).on('click', '#CreerRelease', function () {
    $.ajax({
      url: "https://gitlab.com/api/v4/projects/20690131/repository/tags",
      type: 'POST',
      data: {
        private_token: "NWNQZz8ocvuTYUTGMcsq",
        tag_name: 'ceciestuntag_2',
        ref: 'master',
      },
      crossDomain: true,
      success: function (data) {
        $.ajax({
          url: "https://gitlab.com/api/v4/projects/20690131/releases",
          type: 'POST',
          data: {
            tag_name: 'ceciestuntag_2',
            description: 'La description',
            private_token: "NWNQZz8ocvuTYUTGMcsq",
            name: 'ceciestunerelease_2',
            ref: 'master'
          },
          crossDomain: true,
          success: function (data) {
            alert('PARFAIT')
            console.log(data);

          },
          error: function (xhr, status, erreur) {
            alert(xhr.responseJSON.message)
          }
        })

      },
      error: function (xhr, status, erreur) {
        alert(xhr.responseJSON.message)
      }
    })
  })
</script>

</html>